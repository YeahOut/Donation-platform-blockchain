# ðŸŽ Donation Service - í¬ì¸íŠ¸ ê¸°ë¶€ í”Œëž«í¼

> **ì‹ í•œì€í–‰ í¬ì¸íŠ¸ë¥¼ í™œìš©í•œ íˆ¬ëª…í•œ ë¸”ë¡ì²´ì¸ ê¸°ë¶€ ì„œë¹„ìŠ¤**

[![React](https://img.shields.io/badge/React-18.2.0-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9.2-blue.svg)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![Solidity](https://img.shields.io/badge/Solidity-0.8.24-orange.svg)](https://soliditylang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6.13.0-purple.svg)](https://www.prisma.io/)


## ðŸ‘€ì£¼ì†Œ ëª¨ìŒ
- ë°°í¬ì£¼ì†Œ : http://3.34.135.57/
- Swagger : http://3.34.135.57:4000/api/docs/#/
- Token í™•ì¸ ì£¼ì†Œ : https://sepolia.etherscan.io/address/0x50C371Db60A86E634974beEB1da297721119cBe8#tokentxns
- íŠ¸ëžœìž­ì…˜ í™•ì¸ ì£¼ì†Œ : https://sepolia.etherscan.io/address/0xc06424216b12c20528e7e82ea79e36bb9a83dd1c
- ë°ëª¨ì˜ìƒ : [ðŸŽ¬ ë°ëª¨ ì˜ìƒ ë³´ê¸°](https://youtu.be/SXpydQowh7E)
- ì„œë¹„ìŠ¤ ì†Œê°œê¸€ : https://yeah-out.notion.site/24b116366aba8013b533fb6714810f73?source=copy_link


## ðŸ“‹ ëª©ì°¨

- [âœ¨ ì„œë¹„ìŠ¤ ì†Œê°œ](#-ì„œë¹„ìŠ¤-ì†Œê°œ)
- [ðŸš€ ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ðŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ](#ï¸-ê¸°ìˆ -ìŠ¤íƒ)
- [ðŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [âš¡ ë¹ ë¥¸ ì‹œìž‘](#-ë¹ ë¥¸-ì‹œìž‘)
- [ðŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •](#-ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [ðŸŒ ë°°í¬](#-ë°°í¬)
- [ðŸ“Š API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ðŸ”— ë¸”ë¡ì²´ì¸ ì—°ë™](#-ë¸”ë¡ì²´ì¸-ì—°ë™)
- [ðŸ¤ ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)

## âœ¨ ì„œë¹„ìŠ¤ ì†Œê°œ

ì‹ í•œì€í–‰ í¬ì¸íŠ¸ë¥¼ í™œìš©í•œ íˆ¬ëª…í•œ ê¸°ë¶€ í”Œëž«í¼ìž…ë‹ˆë‹¤. ì‚¬ìš©ìžëŠ” ë³´ìœ í•œ í¬ì¸íŠ¸ë¥¼ ê¸°ë¶€í•  ìˆ˜ ìžˆìœ¼ë©°, ëª¨ë“  ê¸°ë¶€ ë‚´ì—­ì€ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡ë˜ì–´ íˆ¬ëª…ì„±ì„ ë³´ìž¥í•©ë‹ˆë‹¤.

### ðŸŒŸ í•µì‹¬ íŠ¹ì§•

- **ðŸ’Ž íˆ¬ëª…ì„±**: ëª¨ë“  ê¸°ë¶€ ë‚´ì—­ì´ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡
- **ðŸ”’ ë³´ì•ˆ**: JWT ê¸°ë°˜ ì¸ì¦ ë° ì•”í˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ ì €ìž¥
- **âš¡ ì‹¤ì‹œê°„**: ì‹¤ì‹œê°„ í¬ì¸íŠ¸ ìž”ì•¡ ë° ê¸°ë¶€ í†µê³„
- **ðŸ“± ë°˜ì‘í˜•**: ëª¨ë°”ì¼ ìµœì í™”ëœ UI/UX
- **ðŸŒ í¬ë¡œìŠ¤ í”Œëž«í¼**: ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥

## ðŸš€ ì£¼ìš” ê¸°ëŠ¥

### ðŸ‘¤ ì‚¬ìš©ìž ê´€ë¦¬
- [x] ì‚¬ìš©ìž ë¡œê·¸ì¸/ì¸ì¦
- [x] í¬ì¸íŠ¸ ìž”ì•¡ ì¡°íšŒ
- [x] í¬ì¸íŠ¸ ê±°ëž˜ ë‚´ì—­ í™•ì¸

### ðŸ’ ê¸°ë¶€ ì‹œìŠ¤í…œ
- [x] í¬ì¸íŠ¸ ê¸°ë¶€ ê¸°ëŠ¥
- [x] ê¸°ë¶€ ê¸ˆì•¡ ì„¤ì • (1P ë‹¨ìœ„)
- [x] ê¸°ë¶€ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬
- [x] ì‹¤ì‹œê°„ ê¸°ë¶€ í†µê³„

### ðŸ”— ë¸”ë¡ì²´ì¸ ì—°ë™
- [x] ERC-20 í† í° ê¸°ë°˜ ê¸°ë¶€ ê¸°ë¡
- [x] Sepolia í…ŒìŠ¤íŠ¸ë„· ì—°ë™
- [x] ê¸°ë¶€ ì´ë²¤íŠ¸ ë¡œê¹…
- [x] íˆ¬ëª…í•œ ê¸°ë¶€ ë‚´ì—­ ì¡°íšŒ

## ðŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **React 18** - ì‚¬ìš©ìž ì¸í„°íŽ˜ì´ìŠ¤
- **TypeScript** - íƒ€ìž… ì•ˆì „ì„±
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§
- **Zustand** - ìƒíƒœ ê´€ë¦¬
- **React Router** - ë¼ìš°íŒ…
- **Vite** - ë¹Œë“œ ë„êµ¬

### Backend
- **Node.js** - ì„œë²„ ëŸ°íƒ€ìž„
- **Express.js** - ì›¹ í”„ë ˆìž„ì›Œí¬
- **TypeScript** - íƒ€ìž… ì•ˆì „ì„±
- **Prisma** - ORM
- **MariaDB** - ë°ì´í„°ë² ì´ìŠ¤
- **JWT** - ì¸ì¦
- **bcryptjs** - ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”

### Blockchain
- **Solidity** - ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ëž™íŠ¸
- **Hardhat** - ê°œë°œ í™˜ê²½
- **Ethers.js** - ë¸”ë¡ì²´ì¸ ì—°ë™
- **OpenZeppelin** - ë³´ì•ˆ ì»¨íŠ¸ëž™íŠ¸
- **Sepolia** - í…ŒìŠ¤íŠ¸ë„·

### DevOps
- **Nginx** - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ
- **PM2** - í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
- **AWS EC2** - í´ë¼ìš°ë“œ í˜¸ìŠ¤íŒ…

## ðŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
donation/
â”œâ”€â”€ ðŸ“ Frontend/                 # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ ðŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ðŸ“ components/      # ìž¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ðŸ“ pages/          # íŽ˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ðŸ“ store/          # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ ðŸ“ assets/         # ì •ì  ìžì‚°
â”‚   â”œâ”€â”€ ðŸ“„ package.json
â”‚   â””â”€â”€ ðŸ“„ vite.config.ts
â”œâ”€â”€ ðŸ“ Backend/                  # Node.js ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ ðŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ server.ts       # ë©”ì¸ ì„œë²„
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ blockchain.ts   # ë¸”ë¡ì²´ì¸ ì—°ë™
â”‚   â”‚   â””â”€â”€ ðŸ“„ swagger.ts      # API ë¬¸ì„œ
â”‚   â”œâ”€â”€ ðŸ“ prisma/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ schema.prisma   # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â””â”€â”€ ðŸ“„ seed_mysql.sql  # ì´ˆê¸° ë°ì´í„°
â”‚   â””â”€â”€ ðŸ“„ package.json
â”œâ”€â”€ ðŸ“ Contract/                 # Solidity ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ëž™íŠ¸
â”‚   â”œâ”€â”€ ðŸ“ contracts/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ DonationToken.sol
â”‚   â”‚   â””â”€â”€ ðŸ“„ DonationPool.sol
â”‚   â”œâ”€â”€ ðŸ“ scripts/
â”‚   â”‚   â””â”€â”€ ðŸ“„ deploy.ts
â”‚   â””â”€â”€ ðŸ“„ hardhat.config.ts
â””â”€â”€ ðŸ“„ README.md
```

## âš¡ ë¹ ë¥¸ ì‹œìž‘

### 1. ì €ìž¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/your-username/donation-service.git
cd donation-service
```

### 2. í™˜ê²½ ì„¤ì •
```bash
# Frontend
cd Frontend
npm install
echo 'VITE_API_BASE=http://localhost:4000' > .env.local

# Backend
cd ../Backend
npm install
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì • í•„ìš”

# Contract
cd ../Contract
npm install
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
cd Backend
npx prisma db push
npx prisma db execute --file prisma/seed_mysql.sql --schema prisma/schema.prisma
```

### 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
# Backend (í„°ë¯¸ë„ 1)
cd Backend
npm run dev

# Frontend (í„°ë¯¸ë„ 2)
cd Frontend
npm run dev
```

### 5. ë¸”ë¡ì²´ì¸ ë°°í¬ (ì„ íƒì‚¬í•­)
```bash
cd Contract
npx hardhat run scripts/deploy.ts --network sepolia
```

## ðŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- npm ë˜ëŠ” yarn
- MariaDB ë˜ëŠ” MySQL
- Git

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### Frontend (.env.local)
```env
VITE_API_BASE=http://localhost:4000
```

#### Backend (.env)
```env
# Database
DATABASE_URL="mysql://user:password@localhost:3306/donation"

# JWT
JWT_SECRET="your-secret-key"

# Blockchain (ì„ íƒì‚¬í•­)
SEPOLIA_RPC_URL="https://sepolia.infura.io/v3/YOUR_KEY"
PRIVATE_KEY="0x..."
DONATION_TOKEN_ADDRESS="0x..."
DONATION_POOL_ADDRESS="0x..."
```

#### Contract (.env)
```env
SEPOLIA_RPC_URL="https://sepolia.infura.io/v3/YOUR_KEY"
PRIVATE_KEY="0x..."
```

## ðŸŒ ë°°í¬

### EC2 ë°°í¬ ê°€ì´ë“œ

#### 1. ì„œë²„ ì„¤ì •
```bash
# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt-get update && sudo apt-get upgrade -y

# Node.js ì„¤ì¹˜
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# MariaDB ì„¤ì¹˜
sudo apt-get install -y mariadb-server
sudo systemctl enable --now mariadb
```

#### 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
```bash
# Frontend ë¹Œë“œ ë° ë°°í¬
cd Frontend
npm ci
npm run build
sudo mkdir -p /var/www/donation-frontend
sudo rsync -a --delete dist/ /var/www/donation-frontend/

# Nginx ì„¤ì •
sudo tee /etc/nginx/sites-available/donation >/dev/null <<'CONF'
server {
    listen 80;
    server_name _;
    root /var/www/donation-frontend;
    index index.html;
    
    location /api/ {
        proxy_pass http://127.0.0.1:4000;
    }
    
    location / {
        try_files $uri /index.html;
    }
}
CONF

sudo ln -sf /etc/nginx/sites-available/donation /etc/nginx/sites-enabled/
sudo systemctl reload nginx

# Backend ë°°í¬
cd Backend
npm ci
npm run build
npm i -g pm2
pm2 start dist/server.js --name donation-backend --update-env
pm2 save
```

## ðŸ“Š API ë¬¸ì„œ

### ì¸ì¦ API
- `POST /api/login` - ì‚¬ìš©ìž ë¡œê·¸ì¸
- `GET /api/me` - ì‚¬ìš©ìž ì •ë³´ ì¡°íšŒ

### ê¸°ë¶€ API
- `POST /api/donate` - ê¸°ë¶€ ìš”ì²­
- `POST /api/donation/:id/settle` - ê¸°ë¶€ í™•ì •
- `GET /api/stats` - ê¸°ë¶€ í†µê³„

### ê°œë°œìš© API
- `POST /api/dev/seed` - ì´ˆê¸° ë°ì´í„° ìƒì„±

ðŸ“– **ìžì„¸í•œ API ë¬¸ì„œ**: `http://your-domain/api/docs`

## ðŸ”— ë¸”ë¡ì²´ì¸ ì—°ë™

### ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ëž™íŠ¸

#### DonationToken.sol
```solidity
// ERC-20 í† í° (ì†Œìˆ˜ì  0)
contract DonationToken is ERC20, Ownable {
    function decimals() public pure override returns (uint8) {
        return 0; // ì •ìˆ˜ í¬ì¸íŠ¸
    }
    
    function mint(address to, uint256 amount) external onlyOwner {
        _mint(to, amount);
    }
}
```

#### DonationPool.sol
```solidity
// ê¸°ë¶€ í’€ ì»¨íŠ¸ëž™íŠ¸
contract DonationPool is Ownable {
    event Donated(address indexed donor, uint256 amount, uint256 newTotal);
    event DonatedFor(bytes32 indexed donorHash, uint256 amount, uint256 newTotal);
    
    function recordDonationFor(bytes32 donorHash, uint256 amount) external onlyOwner {
        totalDonated += amount;
        if (!hasDonatedById[donorHash]) {
            hasDonatedById[donorHash] = true;
            uniqueDonors += 1;
        }
        emit DonatedFor(donorHash, amount, totalDonated);
    }
}
```

### ë¸”ë¡ì²´ì¸ ë°°í¬
```bash
cd Contract
npx hardhat compile
npx hardhat run scripts/deploy.ts --network sepolia
```

### ë¸”ë¡ì²´ì¸ í™•ì¸
- **í† í°**: https://sepolia.etherscan.io/token/[TOKEN_ADDRESS]
- **í’€**: https://sepolia.etherscan.io/address/[POOL_ADDRESS]

## ðŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”
- **User**: ì‚¬ìš©ìž ì •ë³´
- **PointTransaction**: í¬ì¸íŠ¸ ê±°ëž˜ ë‚´ì—­
- **Token**: í† í° ìž”ì•¡ ê´€ë¦¬
- **Donation**: ê¸°ë¶€ ë‚´ì—­

```sql
-- ì‚¬ìš©ìž í…Œì´ë¸”
CREATE TABLE User (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(255) NOT NULL,
    passwordHash VARCHAR(255) NOT NULL,
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- í¬ì¸íŠ¸ ê±°ëž˜ í…Œì´ë¸”
CREATE TABLE PointTransaction (
    id INT PRIMARY KEY AUTO_INCREMENT,
    userId INT NOT NULL,
    amount INT NOT NULL,
    note TEXT,
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (userId) REFERENCES User(id)
);
```

## ðŸ§ª í…ŒìŠ¤íŠ¸

### í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
```bash
cd Frontend
npm test
```

### ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
```bash
cd Backend
npm test
```

### ë¸”ë¡ì²´ì¸ í…ŒìŠ¤íŠ¸
```bash
cd Contract
npx hardhat test
```

## ðŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ðŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìžì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ðŸ“ž ì—°ë½ì²˜

- **í”„ë¡œì íŠ¸ ë§í¬**: [https://github.com/your-username/donation-service](https://github.com/your-username/donation-service)
- **ì´ìŠˆ ë¦¬í¬íŠ¸**: [https://github.com/your-username/donation-service/issues](https://github.com/your-username/donation-service/issues)

## ðŸ™ ê°ì‚¬ì˜ ë§

- [React](https://reactjs.org/) - ì‚¬ìš©ìž ì¸í„°íŽ˜ì´ìŠ¤
- [Node.js](https://nodejs.org/) - ì„œë²„ ëŸ°íƒ€ìž„
- [Solidity](https://soliditylang.org/) - ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ëž™íŠ¸
- [Prisma](https://www.prisma.io/) - ë°ì´í„°ë² ì´ìŠ¤ ORM
- [Tailwind CSS](https://tailwindcss.com/) - CSS í”„ë ˆìž„ì›Œí¬

---

â­ **ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ ìŠ¤íƒ€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!**
